import { Component } from '@angular/core';
import { Validators } from '@angular/forms';
import { RBACINFO } from '../@core/urls/rbac-url.config';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "../@core/service/alert.service";
import * as i3 from "../@core/service/rbac.service";
import * as i4 from "../@core/service/data-store.service";
import * as i5 from "../@shared/alert/alert.component";
import * as i6 from "primeng/card";
import * as i7 from "../@core/directives/permission.directive";
import * as i8 from "@angular/common";
import * as i9 from "../@core/directives/show-field.directives";
import * as i10 from "primeng/inputtext";
export class PolicygroupsComponent {
    constructor(fb, alertService, groupsService, _storeservice) {
        this.fb = fb;
        this.alertService = alertService;
        this.groupsService = groupsService;
        this._storeservice = _storeservice;
        this.RBACORG = new RBACINFO();
        this.filteredPolicyGroupList = [];
        this.modelPolicyName = '';
        this.deleteactive_role = false;
        this.deleteactive_buttonok = false;
        this.validationErrors = {};
        this.isButtonDisabled = true;
        this.formSubmit = false;
        this.initializeForm();
    }
    ngOnInit() {
        this.orgSubs = this._storeservice.currentStore.subscribe((res) => {
            this.inputValidationMethod = res['INPUTVALIDATIONMETHOD'];
            if (res['RBACORG'] && res['RBACORG'] !== '') {
                this.RBACORG = res['RBACORG'];
                this.orgId = parseInt(this.RBACORG['orgID']);
                this.httpService = res['HTTPSERVICE'];
                if (this.orgId) {
                    this.getPolicyGroupList();
                    this.getManagementGroupTree(this.orgId);
                }
            }
        });
        this.policyGroupForm.statusChanges.subscribe(() => {
            var _a, _b;
            if (((_a = this.policyGroupForm.controls) === null || _a === void 0 ? void 0 : _a['policygroupname'].value) ||
                ((_b = this.policyGroupForm.controls) === null || _b === void 0 ? void 0 : _b['description'].value)) {
                this.isButtonDisabled = false;
            }
            else {
                this.isButtonDisabled = true;
            }
        });
    }
    initializeForm() {
        this.policyGroupForm = this.fb.group({
            id: [null],
            policygroupname: ['', Validators.required],
            description: ['']
        });
    }
    get formValidate() {
        return this.policyGroupForm.controls;
    }
    ngOnDestroy() {
        this.orgSubs.unsubscribe();
    }
    onInput(event, fieldtype, label, required) {
        var _a, _b;
        const error = this.inputValidationMethod(event, fieldtype, label, required);
        if (error && typeof error === 'string') {
            this.validationErrors[label] = error;
        }
        else {
            delete this.validationErrors[label];
        }
        //
        if (((_a = this.policyGroupForm.controls) === null || _a === void 0 ? void 0 : _a['policygroupname'].value) ||
            ((_b = this.policyGroupForm.controls) === null || _b === void 0 ? void 0 : _b['description'].value)) {
            this.isButtonDisabled = false;
        }
        else {
            this.isButtonDisabled = true;
        }
    }
    getPolicyGroupList(_managementGroupId) {
        if (this.orgId) {
            this.groupsService.getOrgPolicyGroupList(this.orgId).subscribe((res) => {
                this.policyGroupList = res['data'];
                this.filteredPolicyGroupList = this.policyGroupList;
            }, (err) => console.log(err));
        }
    }
    getManagementGroupTree(organizationid) {
        this.groupsService.getManagementGroupTree(organizationid).subscribe((items) => {
            this.managementGroups = items.data;
        });
    }
    searchPolicyGroup(event) {
        const value = event.target.value.toLowerCase();
        this.filteredPolicyGroupList = this.policyGroupList.filter((a) => { var _a; return (_a = a === null || a === void 0 ? void 0 : a.policygroupname) === null || _a === void 0 ? void 0 : _a.toLowerCase().startsWith(value); });
    }
    getPolicyGroupInfo(policyGroup) {
        this.validationErrors = {};
        this.formSubmit = false;
        this.policyGroupId = policyGroup.id;
        this.groupsService.getPolicyGroupById(this.policyGroupId).subscribe((res) => {
            res['data'].managementgroupid = this.managementGroups.find(item => item.id === res['data'].managementgroupid);
            this.policyGroupForm.patchValue(res['data']);
            this.attachedUsers = res['data'].users;
        });
    }
    customerrorvalidation() {
        let errorcontrolwithlabel;
        let errormessage;
        if (this.validationErrors['Policy Group Name']) {
            errorcontrolwithlabel = 'policygroupname';
            errormessage = this.validationErrors['Policy Group Name'];
        }
        else if (this.validationErrors['Description']) {
            errorcontrolwithlabel = 'description';
            errormessage = this.validationErrors['Description'];
        }
        else {
            errormessage = null;
        }
        if (errormessage) {
            const control = this.policyGroupForm.get(errorcontrolwithlabel);
            control.setErrors({ customError: errormessage });
        }
    }
    addPolicyGroup() {
        const requestBody = [];
        this.formSubmit = true;
        this.policyGroupForm.patchValue({
            policygroupname: this.policyGroupForm.value.policygroupname.trim()
        });
        let data = this.policyGroupForm.getRawValue();
        data = Object.assign({ organizationid: this.orgId }, data);
        requestBody.push(data);
        this.customerrorvalidation();
        // if (!this.validationErrors['Policy Group Name'] || !this.validationErrors['Description']) {
        if (this.policyGroupForm.valid) {
            if (this.policyGroupId) {
                this.groupsService.updatePolicyGroup(this.policyGroupId, data).subscribe(() => {
                    this.getPolicyGroupList();
                    this.alertService.success('Policy Group updated successfully');
                }, (err) => {
                    var _a;
                    if (err === null || err === void 0 ? void 0 : err.error) {
                        this.alertService.error((_a = err === null || err === void 0 ? void 0 : err.error) === null || _a === void 0 ? void 0 : _a.message);
                    }
                    else {
                        this.alertService.error('Failed to update Policy Group');
                    }
                });
            }
            else {
                this.groupsService.createPolicyGroup(requestBody).subscribe(() => {
                    this.cancel();
                    this.getPolicyGroupList();
                    this.alertService.success('Policy Group created successfully');
                }, (err) => {
                    var _a;
                    if (err === null || err === void 0 ? void 0 : err.error) {
                        this.alertService.error((_a = err === null || err === void 0 ? void 0 : err.error) === null || _a === void 0 ? void 0 : _a.message);
                    }
                    else {
                        this.alertService.error('Failed to add Policy Group');
                    }
                });
            }
        }
    }
    delete(event, id, item) {
        if ((item === null || item === void 0 ? void 0 : item.active_role) !== null) {
            this.deleteactive_role = false;
            this.deleteactive_buttonok = false;
            // Perform action when active_role is not null
            console.log('Deleting policy group with active user');
            this.modalContent = 'This group is currently associated with active roles. De-link roles from this Policy Group, to proceed with deleting.';
        }
        else {
            // Perform action when active_role is null
            console.log('Deleting policy group');
            this.modalContent = 'Are you sure you want to delete the Policy Group?';
            this.deleteactive_role = true;
            this.deleteactive_buttonok = true;
        }
        event.stopPropagation();
        this.deletedId = id;
        $('#Deleteuser').modal('show');
    }
    clearSearch(event) {
        const inputElement = document.querySelector('.form-control');
        if (inputElement) {
            inputElement.value = '';
            this.filteredPolicyGroupList = this.policyGroupList;
        }
    }
    cancel() {
        this.formSubmit = false;
        this.policyGroupForm.reset();
        this.policyGroupForm.markAsUntouched();
        this.policyGroupForm.markAsPristine();
        this.attachedUsers = [];
        this.policyGroupId = 0;
        this.validationErrors = {};
    }
    onClickAddPolicygroup() {
        this.isButtonDisabled = true;
        this.formSubmit = false;
        this.initializeForm();
        this.policyGroupId = 0;
        this.validationErrors = {};
    }
    deletePolicyGroup() {
        this.groupsService.deletePolicyGroup(this.deletedId).subscribe(() => {
            this.cancel();
            this.alertService.success('Policy Group deleted successfully');
            $('#Deleteuser').modal('hide');
            this.getPolicyGroupList();
        }, (_err) => this.alertService.error('Failed to delete Policy Group'));
    }
    onModelPolicy(value) {
        this.modelPolicyName = value;
    }
}
PolicygroupsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: PolicygroupsComponent, deps: [{ token: i1.FormBuilder }, { token: i2.AlertService }, { token: i3.RbacService }, { token: i4.DataStoreService }], target: i0.ɵɵFactoryTarget.Component });
PolicygroupsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: PolicygroupsComponent, selector: "policygroups", ngImport: i0, template: "<app-alert></app-alert>\r\n<div class=\"permission\">\r\n  <div class=\"row\" [formGroup]=\"policyGroupForm\">\r\n    <div class=\"col-lg-4 col-md-6 col-12\">\r\n      <div class=\"clearfix\"></div>\r\n      <div class=\"tab-content py-2\">\r\n        <div class=\"tab-pane fade show active\">\r\n          <div class=\"form-group bgiconsearch d-flex align-items-center\"> <!-- Modified line -->\r\n            <span class=\"p-input-icon-right w-100\">\r\n              <i class=\"pi pi-times-circle\" (click)=\"clearSearch($event)\"></i>\r\n              <input class=\"form-control\" fieldKey=\"SETTINGS_PGP_SEARCH_BY_NAME\"\r\n                placeholder=\"Search by Policy Group name\" type=\"text\" (keyup)=\"searchPolicyGroup($event)\" />\r\n            </span>\r\n            <button type=\"button\" class=\"btn btn-primary btncommon ml-2\" (click)=\"onClickAddPolicygroup()\">Add</button>\r\n            <!-- Modified line -->\r\n          </div>\r\n          <div class=\"clearfix\"></div>\r\n          <div class=\"useracess\">\r\n            <div class=\"d-flex align-items-center justify-content-center h-100 w-100 ng-star-inserted\"\r\n              *ngIf=\"!filteredPolicyGroupList.length\">\r\n              <p>No Record Found</p>\r\n            </div>\r\n            <ng-container *ngFor=\"let item of filteredPolicyGroupList\">\r\n              <div class=\"row userdata align-items-center\" (click)=\"getPolicyGroupInfo(item)\"\r\n                [ngClass]=\"{ active: item.id === policyGroupId }\">\r\n                <!-- <div class=\"col-lg-2 col-md-3 col-3\">\r\n                            <img src=\"assets/images/user-empty.png\" alt=\"user\" class=\"userempty\" />\r\n                        </div> -->\r\n                <div class=\"col-md-10 col-sm-10 col-10 overflow_txt\">\r\n                  <span class=\"nameuser\">{{ item.policygroupname }}</span> <br />\r\n                </div>\r\n                <div class=\"col-md-2 text-right\">\r\n                  <span class=\"right-icons\">\r\n                    <em class=\"fa fa-trash text-primary\" *showField=\"'SETTINGS_PGP_DELETE'\"\r\n                      (click)=\"delete($event, item.id, item)\" aria-hidden=\"true\"></em>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"col-lg-8 col-md-6 col-12 mt-2 group-role\">\r\n      <p-card class=\"rbac-card\" styleClass=\"w-100 mb-2\">\r\n        <div class=\"strip_head toggleleft\">\r\n          <span class=\"report_head font-weight-bold\">Policy Group Details</span>\r\n        </div>\r\n        <div class=\"p-fluid p-formgrid row\">\r\n          <div class=\"col-lg-6 col-md-12 col-12 mb-2\">\r\n            <label for=\"policyGroup\" class=\"referral-form-labels\">Policy Group Name\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <input id=\"policyGroup\" type=\"text\" formControlName=\"policygroupname\" placeholder=\"Enter Policy Group Name\"\r\n              aria-describedby=\"policyGroup\" fieldKey=\"SETTINGS_PGP_POLICY_GROUP_NAME\" [(ngModel)]=\"modelPolicyName\"\r\n              (ngModelChange)=\"onModelPolicy($event)\" (input)=\"onInput($event, 'name', 'Policy Group Name', true)\"\r\n              pInputText />\r\n            <div *ngIf=\"validationErrors['Policy Group Name']\" class=\"p-error block mt-1\">{{validationErrors['Policy\r\n              Group Name']}}</div>\r\n            <div *ngIf=\"!validationErrors['Policy Group Name'] && formValidate['policygroupname'].errors && formSubmit\">\r\n              <div *ngIf=\"formValidate['policygroupname'].invalid\" class=\"p-error block mt-1\">Policy Group Name is\r\n                required\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-6 col-md-12 col-12 mb-2\">\r\n            <label for=\"policyDescription\" class=\"referral-form-labels\">Description </label>\r\n            <input id=\"policyDescription\" fieldKey=\"SETTINGS_PGP_DESCRIPTION\" type=\"text\" formControlName=\"description\"\r\n              placeholder=\"Description\" aria-describedby=\"policyDescription\"\r\n              (input)=\"onInput($event, 'description', 'Description', false)\" pInputText />\r\n            <div *ngIf=\"validationErrors['Description']\" class=\"p-error block mt-1\">{{validationErrors['Description']}}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon\" fieldKey=\"SETTINGS_PGP_ADD_POLICY_GROUP\"\r\n            (click)=\"addPolicyGroup()\">\r\n            {{ policyGroupId ? 'Update Policy Group' : 'Add Policy Group' }}\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary border border-primary btncancel\"\r\n            fieldKey=\"SETTINGS_PGP_CANCEL\" (click)=\"cancel()\" [disabled]=\"isButtonDisabled\">\r\n            Clear\r\n          </button>\r\n          <br />\r\n          <br />\r\n        </div>\r\n        <br />\r\n      </p-card>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"modal\" id=\"Deleteuser\" tabindex=\"-1\" role=\"dialog\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-body\">\r\n        <p>{{ modalContent }}</p>\r\n        <div class=\"clearfix\"></div>\r\n        <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon delete\" data-dismiss=\"modal\"\r\n            (click)=\"deletePolicyGroup()\" *ngIf=\"deleteactive_role\">\r\n            Delete\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\"\r\n            *ngIf=\"deleteactive_buttonok\">\r\n            Cancel\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\"\r\n            *ngIf=\"!deleteactive_buttonok\">\r\n            OK\r\n          </button>\r\n        </div>\r\n        <div class=\"clearfix\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".head-div{padding-top:9px;padding-left:7px}.bgiconsearch{margin-bottom:5px;padding-bottom:0;font-size:13px}.useracess{border-radius:2px;padding:5px 0;overflow-y:auto}.userempty{max-width:none;border-radius:50%;height:35px;width:35px}.row.userdata{margin:0;border-bottom:solid 1px var(--table-border);padding:5px 0;cursor:pointer}.overflow_txt{overflow:hidden;text-overflow:ellipsis}span.nameuser{font-size:var(--font-16);color:var(--label-text);font-weight:400}.userid,span.emailuser{font-size:var(--font-15);color:#838383}.toggleleft{font-size:14px;font-weight:600;display:block;margin-top:-12px;padding-bottom:13px}.rbac-card .p-fluid .p-inputtext{padding:8px}.right-icons .fa{margin-top:3px;display:inline-block;z-index:9}.right-icons .fa-trash{font-size:18px}@media screen and (max-width: 767px){.useracess{max-height:400px}}@media screen and (min-width: 768px){.useracess{height:calc(100vh - 188px)}}@media screen and (min-width: 990px) and (max-width: 1024px){.useracess .userempty{height:100%;width:100%}}\n"], components: [{ type: i5.AlertComponent, selector: "app-alert" }, { type: i6.Card, selector: "p-card", inputs: ["header", "subheader", "style", "styleClass"] }], directives: [{ type: i1.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i1.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i7.PermissionDirective, selector: "[fieldKey]", inputs: ["fieldKey"] }, { type: i8.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i8.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i8.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i9.ShowFieldDirective, selector: "[showField]", inputs: ["showField"] }, { type: i1.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i1.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i1.FormControlName, selector: "[formControlName]", inputs: ["disabled", "formControlName", "ngModel"], outputs: ["ngModelChange"] }, { type: i10.InputText, selector: "[pInputText]" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: PolicygroupsComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'policygroups',
                    templateUrl: './policygroups.component.html',
                    styleUrls: ['./policygroups.component.scss']
                }]
        }], ctorParameters: function () { return [{ type: i1.FormBuilder }, { type: i2.AlertService }, { type: i3.RbacService }, { type: i4.DataStoreService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9saWN5Z3JvdXBzLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3BpY3MtY29yZS9yYmFjLXBvbGljeWdyb3Vwcy9zcmMvbGliL3BpY3MtcmJhYy1wb2xpY3lncm91cHMvcG9saWN5Z3JvdXBzL3BvbGljeWdyb3Vwcy5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9waWNzLWNvcmUvcmJhYy1wb2xpY3lncm91cHMvc3JjL2xpYi9waWNzLXJiYWMtcG9saWN5Z3JvdXBzL3BvbGljeWdyb3Vwcy9wb2xpY3lncm91cHMuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUNsRCxPQUFPLEVBQTBCLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBR3BFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQzs7Ozs7Ozs7Ozs7O0FBVXpELE1BQU0sT0FBTyxxQkFBcUI7SUF3QmhDLFlBQ1UsRUFBZSxFQUNmLFlBQTBCLEVBQzFCLGFBQTBCLEVBQzFCLGFBQStCO1FBSC9CLE9BQUUsR0FBRixFQUFFLENBQWE7UUFDZixpQkFBWSxHQUFaLFlBQVksQ0FBYztRQUMxQixrQkFBYSxHQUFiLGFBQWEsQ0FBYTtRQUMxQixrQkFBYSxHQUFiLGFBQWEsQ0FBa0I7UUEzQnpDLFlBQU8sR0FBYSxJQUFJLFFBQVEsRUFBRSxDQUFDO1FBRW5DLDRCQUF1QixHQUFVLEVBQUUsQ0FBQztRQUdwQyxvQkFBZSxHQUFXLEVBQUUsQ0FBQztRQUk3QixzQkFBaUIsR0FBWSxLQUFLLENBQUM7UUFDbkMsMEJBQXFCLEdBQVksS0FBSyxDQUFDO1FBU3ZDLHFCQUFnQixHQUE4QixFQUFFLENBQUM7UUFFakQscUJBQWdCLEdBQVksSUFBSSxDQUFDO1FBUS9CLElBQUksQ0FB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R0FBRyxJQUFJLENBQUE7UUFDNUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7UUFDeEIsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxhQUFhLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUNELGlCQUFpQjtRQUNmLElBQUksQ0FBQyxhQUFhLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLFNBQVMsQ0FDNUQsR0FBRyxFQUFFO1lBQ0gsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2QsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsbUNBQW1DLENBQUMsQ0FBQztZQUMvRCxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQy9CLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1FBQzVCLENBQUMsRUFDRCxDQUFDLElBQVMsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsK0JBQStCLENBQUMsQ0FDeEUsQ0FBQztJQUNKLENBQUM7SUFDRCxhQUFhLENBQUMsS0FBYTtRQUN6QixJQUFJLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQztJQUMvQixDQUFDOzttSEF4UFUscUJBQXFCO3VHQUFyQixxQkFBcUIsb0RDZGxDLDJvTUFxSEE7NEZEdkdhLHFCQUFxQjtrQkFMakMsU0FBUzttQkFBQztvQkFDVCxRQUFRLEVBQUUsY0FBYztvQkFDeEIsV0FBVyxFQUFFLCtCQUErQjtvQkFDNUMsU0FBUyxFQUFFLENBQUMsK0JBQStCLENBQUM7aUJBQzdDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRm9ybUJ1aWxkZXIsIEZvcm1Hcm91cCwgVmFsaWRhdG9ycyB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuaW1wb3J0IHsgQWxlcnRTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9hbGVydC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgRGF0YVN0b3JlU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvZGF0YS1zdG9yZS5zZXJ2aWNlJztcclxuaW1wb3J0IHsgUkJBQ0lORk8gfSBmcm9tICcuLi9AY29yZS91cmxzL3JiYWMtdXJsLmNvbmZpZyc7XHJcbmltcG9ydCB7IFJiYWNTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9yYmFjLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcclxuZGVjbGFyZSBjb25zdCAkOiBhbnk7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ3BvbGljeWdyb3VwcycsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL3BvbGljeWdyb3Vwcy5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vcG9saWN5Z3JvdXBzLmNvbXBvbmVudC5zY3NzJ11cclxufSlcclxuZXhwb3J0IGNsYXNzIFBvbGljeWdyb3Vwc0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcbiAgUkJBQ09SRzogUkJBQ0lORk8gPSBuZXcgUkJBQ0lORk8oKTtcclxuICBwb2xpY3lHcm91cExpc3Q6IGFueTtcclxuICBmaWx0ZXJlZFBvbGljeUdyb3VwTGlzdDogYW55W10gPSBbXTtcclxuICBpbmRpdmlkdWFscyE6IGFueVtdO1xyXG4gIG1hbmFnZW1lbnRHcm91cHMhOiBhbnlbXTtcclxuICBtb2RlbFBvbGljeU5hbWU6IHN0cmluZyA9ICcnO1xyXG4gIHBvbGljeUdyb3VwRm9ybSE6IEZvcm1Hcm91cDtcclxuICBwb2xpY3lHcm91cElkITogbnVtYmVyO1xyXG4gIHVzZXJHcm91cENvdW50ITogbnVtYmVyO1xyXG4gIGRlbGV0ZWFjdGl2ZV9yb2xlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgZGVsZXRlYWN0aXZlX2J1dHRvbm9rOiBib29sZWFuID0gZmFsc2U7XHJcbiAgZGVsZXRlZElkITogc3RyaW5nO1xyXG4gIGF0dGFjaGVkVXNlcnM6IGFueTtcclxuICBmb3JtU3VibWl0OiBib29sZWFuO1xyXG4gIGdyb3VwaWQhOiBzdHJpbmc7XHJcbiAgb3JnSWQ6IGFueTtcclxuICBodHRwU2VydmljZTogYW55O1xyXG4gIG9yZ1N1YnMhOiBTdWJzY3JpcHRpb247XHJcbiAgbW9kYWxDb250ZW50OiBzdHJpbmc7XHJcbiAgdmFsaWRhdGlvbkVycm9yczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xyXG4gIGlucHV0VmFsaWRhdGlvbk1ldGhvZDogYW55O1xyXG4gIGlzQnV0dG9uRGlzYWJsZWQ6IGJvb2xlYW4gPSB0cnVlO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgZmI6IEZvcm1CdWlsZGVyLFxyXG4gICAgcHJpdmF0ZSBhbGVydFNlcnZpY2U6IEFsZXJ0U2VydmljZSxcclxuICAgIHByaXZhdGUgZ3JvdXBzU2VydmljZTogUmJhY1NlcnZpY2UsXHJcbiAgICBwcml2YXRlIF9zdG9yZXNlcnZpY2U6IERhdGFTdG9yZVNlcnZpY2VcclxuICApIHtcclxuICAgIHRoaXMuZm9ybVN1Ym1pdCA9IGZhbHNlO1xyXG4gICAgdGhpcy5pbml0aWFsaXplRm9ybSgpO1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKTogdm9pZCB7XHJcbiAgICB0aGlzLm9yZ1N1YnMgPSB0aGlzLl9zdG9yZXNlcnZpY2UuY3VycmVudFN0b3JlLnN1YnNjcmliZSgocmVzOiBhbnkpID0+IHtcclxuICAgICAgdGhpcy5pbnB1dFZhbGlkYXRpb25NZXRob2QgPSByZXNbJ0lOUFVUVkFMSURBVElPTk1FVEhPRCddXHJcbiAgICAgIGlmIChyZXNbJ1JCQUNPUkcnXSAmJiByZXNbJ1JCQUNPUkcnXSAhPT0gJycpIHtcclxuICAgICAgICB0aGlzLlJCQUNPUkcgPSByZXNbJ1JCQUNPUkcnXTtcclxuICAgICAgICB0aGlzLm9yZ0lkID0gcGFyc2VJbnQodGhpcy5SQkFDT1JHWydvcmdJRCddKTtcclxuICAgICAgICB0aGlzLmh0dHBTZXJ2aWNlID0gcmVzWydIVFRQU0VSVklDRSddXHJcbiAgICAgICAgaWYgKHRoaXMub3JnSWQpIHtcclxuICAgICAgICAgIHRoaXMuZ2V0UG9saWN5R3JvdXBMaXN0KCk7XHJcbiAgICAgICAgICB0aGlzLmdldE1hbmFnZW1lbnRHcm91cFRyZWUodGhpcy5vcmdJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMucG9saWN5R3JvdXBGb3JtLnN0YXR1c0NoYW5nZXMuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHRoaXMucG9saWN5R3JvdXBGb3JtLmNvbnRyb2xzPy5bJ3BvbGljeWdyb3VwbmFtZSddLnZhbHVlIHx8XHJcbiAgICAgICAgdGhpcy5wb2xpY3lHcm91cEZvcm0uY29udHJvbHM/LlsnZGVzY3JpcHRpb24nXS52YWx1ZVxyXG4gICAgICApIHtcclxuICAgICAgICB0aGlzLmlzQnV0dG9uRGlzYWJsZWQgPSBmYWxzZVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaXNCdXR0b25EaXNhYmxlZCA9IHRydWVcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcbiAgaW5pdGlhbGl6ZUZvcm0oKSB7XHJcbiAgICB0aGlzLnBvbGljeUdyb3VwRm9ybSA9IHRoaXMuZmIuZ3JvdXAoe1xyXG4gICAgICBpZDogW251bGxdLFxyXG4gICAgICBwb2xpY3lncm91cG5hbWU6IFsnJywgVmFsaWRhdG9ycy5yZXF1aXJlZF0sXHJcbiAgICAgIGRlc2NyaXB0aW9uOiBbJyddXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldCBmb3JtVmFsaWRhdGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wb2xpY3lHcm91cEZvcm0uY29udHJvbHM7XHJcbiAgfVxyXG4gIG5nT25EZXN0cm95KCk6IHZvaWQge1xyXG4gICAgdGhpcy5vcmdTdWJzLnVuc3Vic2NyaWJlKCk7XHJcbiAgfVxyXG5cclxuICBvbklucHV0KGV2ZW50OiBFdmVudCwgZmllbGR0eXBlOiBhbnksIGxhYmVsOiBhbnksIHJlcXVpcmVkOiBib29sZWFuKSB7XHJcbiAgICBjb25zdCBlcnJvciA9IHRoaXMuaW5wdXRWYWxpZGF0aW9uTWV0aG9kKGV2ZW50LCBmaWVsZHR5cGUsIGxhYmVsLCByZXF1aXJlZCk7XHJcbiAgICBpZiAoZXJyb3IgJiYgdHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykge1xyXG4gICAgICB0aGlzLnZhbGlkYXRpb25FcnJvcnNbbGFiZWxdID0gZXJyb3I7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkZWxldGUgdGhpcy52YWxpZGF0aW9uRXJyb3JzW2xhYmVsXTtcclxuICAgIH1cclxuXHJcbiAgICAvL1xyXG4gICAgaWYgKFxyXG4gICAgICB0aGlzLnBvbGljeUdyb3VwRm9ybS5jb250cm9scz8uWydwb2xpY3lncm91cG5hbWUnXS52YWx1ZSB8fFxyXG4gICAgICB0aGlzLnBvbGljeUdyb3VwRm9ybS5jb250cm9scz8uWydkZXNjcmlwdGlvbiddLnZhbHVlXHJcbiAgICApIHtcclxuICAgICAgdGhpcy5pc0J1dHRvbkRpc2FibGVkID0gZmFsc2VcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuaXNCdXR0b25EaXNhYmxlZCA9IHRydWVcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFBvbGljeUdyb3VwTGlzdChfbWFuYWdlbWVudEdyb3VwSWQ/OiBudW1iZXIpIHtcclxuICAgIGlmICh0aGlzLm9yZ0lkKSB7XHJcbiAgICAgIHRoaXMuZ3JvdXBzU2VydmljZS5nZXRPcmdQb2xpY3lHcm91cExpc3QodGhpcy5vcmdJZCkuc3Vic2NyaWJlKFxyXG4gICAgICAgIChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5wb2xpY3lHcm91cExpc3QgPSByZXNbJ2RhdGEnXTtcclxuICAgICAgICAgIHRoaXMuZmlsdGVyZWRQb2xpY3lHcm91cExpc3QgPSB0aGlzLnBvbGljeUdyb3VwTGlzdDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIChlcnI6IGFueSkgPT4gY29uc29sZS5sb2coZXJyKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0TWFuYWdlbWVudEdyb3VwVHJlZShvcmdhbml6YXRpb25pZDogYW55KSB7XHJcbiAgICB0aGlzLmdyb3Vwc1NlcnZpY2UuZ2V0TWFuYWdlbWVudEdyb3VwVHJlZShvcmdhbml6YXRpb25pZCkuc3Vic2NyaWJlKChpdGVtczogYW55KSA9PiB7XHJcbiAgICAgIHRoaXMubWFuYWdlbWVudEdyb3VwcyA9IGl0ZW1zLmRhdGE7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNlYXJjaFBvbGljeUdyb3VwKGV2ZW50OiBFdmVudCkge1xyXG4gICAgY29uc3QgdmFsdWUgPSAoZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB0aGlzLmZpbHRlcmVkUG9saWN5R3JvdXBMaXN0ID0gdGhpcy5wb2xpY3lHcm91cExpc3QuZmlsdGVyKChhOiBhbnkpID0+XHJcbiAgICAgIGE/LnBvbGljeWdyb3VwbmFtZT8udG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKHZhbHVlKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGdldFBvbGljeUdyb3VwSW5mbyhwb2xpY3lHcm91cDogYW55KSB7XHJcbiAgICB0aGlzLnZhbGlkYXRpb25FcnJvcnMgPSB7fTtcclxuICAgIHRoaXMuZm9ybVN1Ym1pdCA9IGZhbHNlO1xyXG4gICAgdGhpcy5wb2xpY3lHcm91cElkID0gcG9saWN5R3JvdXAuaWQ7XHJcbiAgICB0aGlzLmdyb3Vwc1NlcnZpY2UuZ2V0UG9saWN5R3JvdXBCeUlkKHRoaXMucG9saWN5R3JvdXBJZCkuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICByZXNbJ2RhdGEnXS5tYW5hZ2VtZW50Z3JvdXBpZCA9IHRoaXMubWFuYWdlbWVudEdyb3Vwcy5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PT0gcmVzWydkYXRhJ10ubWFuYWdlbWVudGdyb3VwaWQpO1xyXG4gICAgICB0aGlzLnBvbGljeUdyb3VwRm9ybS5wYXRjaFZhbHVlKHJlc1snZGF0YSddKTtcclxuICAgICAgdGhpcy5hdHRhY2hlZFVzZXJzID0gcmVzWydkYXRhJ10udXNlcnM7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGN1c3RvbWVycm9ydmFsaWRhdGlvbigpe1xyXG4gICAgbGV0IGVycm9yY29udHJvbHdpdGhsYWJlbDtcclxuICAgIGxldCBlcnJvcm1lc3NhZ2U7XHJcbiAgICBpZiAodGhpcy52YWxpZGF0aW9uRXJyb3JzWydQb2xpY3kgR3JvdXAgTmFtZSddKSB7XHJcbiAgICAgICAgZXJyb3Jjb250cm9sd2l0aGxhYmVsID0gJ3BvbGljeWdyb3VwbmFtZSc7XHJcbiAgICAgICAgZXJyb3JtZXNzYWdlID0gdGhpcy52YWxpZGF0aW9uRXJyb3JzWydQb2xpY3kgR3JvdXAgTmFtZSddO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodGhpcy52YWxpZGF0aW9uRXJyb3JzWydEZXNjcmlwdGlvbiddKSB7XHJcbiAgICAgICAgZXJyb3Jjb250cm9sd2l0aGxhYmVsID0gJ2Rlc2NyaXB0aW9uJztcclxuICAgICAgICBlcnJvcm1lc3NhZ2UgPSB0aGlzLnZhbGlkYXRpb25FcnJvcnNbJ0Rlc2NyaXB0aW9uJ107XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgZXJyb3JtZXNzYWdlID0gbnVsbDtcclxuICAgIH1cclxuICAgIGlmKGVycm9ybWVzc2FnZSl7XHJcbiAgICBjb25zdCBjb250cm9sID0gdGhpcy5wb2xpY3lHcm91cEZvcm0uZ2V0KGVycm9yY29udHJvbHdpdGhsYWJlbCk7XHJcbiAgICBjb250cm9sLnNldEVycm9ycyh7IGN1c3RvbUVycm9yOiBlcnJvcm1lc3NhZ2UgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhZGRQb2xpY3lHcm91cCgpIHtcclxuICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0gW107XHJcbiAgICB0aGlzLmZvcm1TdWJtaXQgPSB0cnVlO1xyXG4gICAgdGhpcy5wb2xpY3lHcm91cEZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgIHBvbGljeWdyb3VwbmFtZTogdGhpcy5wb2xpY3lHcm91cEZvcm0udmFsdWUucG9saWN5Z3JvdXBuYW1lLnRyaW0oKVxyXG4gICAgfSlcclxuICAgIGxldCBkYXRhID0gdGhpcy5wb2xpY3lHcm91cEZvcm0uZ2V0UmF3VmFsdWUoKTtcclxuICAgIGRhdGEgPSBPYmplY3QuYXNzaWduKHsgb3JnYW5pemF0aW9uaWQ6IHRoaXMub3JnSWQgfSwgZGF0YSk7XHJcbiAgICByZXF1ZXN0Qm9keS5wdXNoKGRhdGEpO1xyXG4gICAgdGhpcy5jdXN0b21lcnJvcnZhbGlkYXRpb24oKTtcclxuICAgIC8vIGlmICghdGhpcy52YWxpZGF0aW9uRXJyb3JzWydQb2xpY3kgR3JvdXAgTmFtZSddIHx8ICF0aGlzLnZhbGlkYXRpb25FcnJvcnNbJ0Rlc2NyaXB0aW9uJ10pIHtcclxuICAgIGlmKHRoaXMucG9saWN5R3JvdXBGb3JtLnZhbGlkKXtcclxuICAgICAgaWYgKHRoaXMucG9saWN5R3JvdXBJZCkge1xyXG4gICAgICAgIHRoaXMuZ3JvdXBzU2VydmljZS51cGRhdGVQb2xpY3lHcm91cCh0aGlzLnBvbGljeUdyb3VwSWQsIGRhdGEpLnN1YnNjcmliZShcclxuICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5nZXRQb2xpY3lHcm91cExpc3QoKTtcclxuICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnUG9saWN5IEdyb3VwIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgKGVycjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnI/LmVycm9yKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoZXJyPy5lcnJvcj8ubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgUG9saWN5IEdyb3VwJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuZ3JvdXBzU2VydmljZS5jcmVhdGVQb2xpY3lHcm91cChyZXF1ZXN0Qm9keSkuc3Vic2NyaWJlKFxyXG4gICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNhbmNlbCgpO1xyXG4gICAgICAgICAgICB0aGlzLmdldFBvbGljeUdyb3VwTGlzdCgpO1xyXG4gICAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdQb2xpY3kgR3JvdXAgY3JlYXRlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICAoZXJyOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVycj8uZXJyb3IpIHtcclxuICAgICAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcihlcnI/LmVycm9yPy5tZXNzYWdlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignRmFpbGVkIHRvIGFkZCBQb2xpY3kgR3JvdXAnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRlbGV0ZShldmVudDogRXZlbnQsIGlkOiBhbnksIGl0ZW06IGFueSkge1xyXG4gICAgaWYgKGl0ZW0/LmFjdGl2ZV9yb2xlICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMuZGVsZXRlYWN0aXZlX3JvbGUgPSBmYWxzZTtcclxuICAgICAgdGhpcy5kZWxldGVhY3RpdmVfYnV0dG9ub2sgPSBmYWxzZTtcclxuICAgICAgLy8gUGVyZm9ybSBhY3Rpb24gd2hlbiBhY3RpdmVfcm9sZSBpcyBub3QgbnVsbFxyXG4gICAgICBjb25zb2xlLmxvZygnRGVsZXRpbmcgcG9saWN5IGdyb3VwIHdpdGggYWN0aXZlIHVzZXInKTtcclxuICAgICAgdGhpcy5tb2RhbENvbnRlbnQgPSAnVGhpcyBncm91cCBpcyBjdXJyZW50bHkgYXNzb2NpYXRlZCB3aXRoIGFjdGl2ZSByb2xlcy4gRGUtbGluayByb2xlcyBmcm9tIHRoaXMgUG9saWN5IEdyb3VwLCB0byBwcm9jZWVkIHdpdGggZGVsZXRpbmcuJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFBlcmZvcm0gYWN0aW9uIHdoZW4gYWN0aXZlX3JvbGUgaXMgbnVsbFxyXG4gICAgICBjb25zb2xlLmxvZygnRGVsZXRpbmcgcG9saWN5IGdyb3VwJyk7XHJcbiAgICAgIHRoaXMubW9kYWxDb250ZW50ID0gJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhlIFBvbGljeSBHcm91cD8nO1xyXG4gICAgICB0aGlzLmRlbGV0ZWFjdGl2ZV9yb2xlID0gdHJ1ZTtcclxuICAgICAgdGhpcy5kZWxldGVhY3RpdmVfYnV0dG9ub2sgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB0aGlzLmRlbGV0ZWRJZCA9IGlkO1xyXG4gICAgJCgnI0RlbGV0ZXVzZXInKS5tb2RhbCgnc2hvdycpO1xyXG4gIH1cclxuICBjbGVhclNlYXJjaChldmVudDogRXZlbnQpIHtcclxuICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWNvbnRyb2wnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgaWYgKGlucHV0RWxlbWVudCkge1xyXG4gICAgICBpbnB1dEVsZW1lbnQudmFsdWUgPSAnJztcclxuICAgICAgdGhpcy5maWx0ZXJlZFBvbGljeUdyb3VwTGlzdCA9IHRoaXMucG9saWN5R3JvdXBMaXN0O1xyXG4gICAgfVxyXG4gIH1cclxuICBjYW5jZWwoKSB7XHJcbiAgICB0aGlzLmZvcm1TdWJtaXQgPSBmYWxzZTtcclxuICAgIHRoaXMucG9saWN5R3JvdXBGb3JtLnJlc2V0KCk7XHJcbiAgICB0aGlzLnBvbGljeUdyb3VwRm9ybS5tYXJrQXNVbnRvdWNoZWQoKTtcclxuICAgIHRoaXMucG9saWN5R3JvdXBGb3JtLm1hcmtBc1ByaXN0aW5lKCk7XHJcbiAgICB0aGlzLmF0dGFjaGVkVXNlcnMgPSBbXTtcclxuICAgIHRoaXMucG9saWN5R3JvdXBJZCA9IDA7XHJcbiAgICB0aGlzLnZhbGlkYXRpb25FcnJvcnMgPSB7fTtcclxuICB9XHJcblxyXG4gIG9uQ2xpY2tBZGRQb2xpY3lncm91cCgpIHtcclxuICAgIHRoaXMuaXNCdXR0b25EaXNhYmxlZCA9IHRydWVcclxuICAgIHRoaXMuZm9ybVN1Ym1pdCA9IGZhbHNlO1xyXG4gICAgdGhpcy5pbml0aWFsaXplRm9ybSgpO1xyXG4gICAgdGhpcy5wb2xpY3lHcm91cElkID0gMDtcclxuICAgIHRoaXMudmFsaWRhdGlvbkVycm9ycyA9IHt9O1xyXG4gIH1cclxuICBkZWxldGVQb2xpY3lHcm91cCgpIHtcclxuICAgIHRoaXMuZ3JvdXBzU2VydmljZS5kZWxldGVQb2xpY3lHcm91cCh0aGlzLmRlbGV0ZWRJZCkuc3Vic2NyaWJlKFxyXG4gICAgICAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jYW5jZWwoKTtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdQb2xpY3kgR3JvdXAgZGVsZXRlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgICAkKCcjRGVsZXRldXNlcicpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICAgICAgdGhpcy5nZXRQb2xpY3lHcm91cExpc3QoKTtcclxuICAgICAgfSxcclxuICAgICAgKF9lcnI6IGFueSkgPT4gdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ0ZhaWxlZCB0byBkZWxldGUgUG9saWN5IEdyb3VwJylcclxuICAgICk7XHJcbiAgfVxyXG4gIG9uTW9kZWxQb2xpY3kodmFsdWU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgdGhpcy5tb2RlbFBvbGljeU5hbWUgPSB2YWx1ZTtcclxuICB9XHJcbn1cclxuIiwiPGFwcC1hbGVydD48L2FwcC1hbGVydD5cclxuPGRpdiBjbGFzcz1cInBlcm1pc3Npb25cIj5cclxuICA8ZGl2IGNsYXNzPVwicm93XCIgW2Zvcm1Hcm91cF09XCJwb2xpY3lHcm91cEZvcm1cIj5cclxuICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctNCBjb2wtbWQtNiBjb2wtMTJcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJ0YWItY29udGVudCBweS0yXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInRhYi1wYW5lIGZhZGUgc2hvdyBhY3RpdmVcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIGJnaWNvbnNlYXJjaCBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyXCI+IDwhLS0gTW9kaWZpZWQgbGluZSAtLT5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwLWlucHV0LWljb24tcmlnaHQgdy0xMDBcIj5cclxuICAgICAgICAgICAgICA8aSBjbGFzcz1cInBpIHBpLXRpbWVzLWNpcmNsZVwiIChjbGljayk9XCJjbGVhclNlYXJjaCgkZXZlbnQpXCI+PC9pPlxyXG4gICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY29udHJvbFwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUEdQX1NFQVJDSF9CWV9OQU1FXCJcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoIGJ5IFBvbGljeSBHcm91cCBuYW1lXCIgdHlwZT1cInRleHRcIiAoa2V5dXApPVwic2VhcmNoUG9saWN5R3JvdXAoJGV2ZW50KVwiIC8+XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnkgYnRuY29tbW9uIG1sLTJcIiAoY2xpY2spPVwib25DbGlja0FkZFBvbGljeWdyb3VwKClcIj5BZGQ8L2J1dHRvbj5cclxuICAgICAgICAgICAgPCEtLSBNb2RpZmllZCBsaW5lIC0tPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1c2VyYWNlc3NcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBoLTEwMCB3LTEwMCBuZy1zdGFyLWluc2VydGVkXCJcclxuICAgICAgICAgICAgICAqbmdJZj1cIiFmaWx0ZXJlZFBvbGljeUdyb3VwTGlzdC5sZW5ndGhcIj5cclxuICAgICAgICAgICAgICA8cD5ObyBSZWNvcmQgRm91bmQ8L3A+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBpdGVtIG9mIGZpbHRlcmVkUG9saWN5R3JvdXBMaXN0XCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvdyB1c2VyZGF0YSBhbGlnbi1pdGVtcy1jZW50ZXJcIiAoY2xpY2spPVwiZ2V0UG9saWN5R3JvdXBJbmZvKGl0ZW0pXCJcclxuICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cInsgYWN0aXZlOiBpdGVtLmlkID09PSBwb2xpY3lHcm91cElkIH1cIj5cclxuICAgICAgICAgICAgICAgIDwhLS0gPGRpdiBjbGFzcz1cImNvbC1sZy0yIGNvbC1tZC0zIGNvbC0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9pbWFnZXMvdXNlci1lbXB0eS5wbmdcIiBhbHQ9XCJ1c2VyXCIgY2xhc3M9XCJ1c2VyZW1wdHlcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gLS0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTEwIGNvbC1zbS0xMCBjb2wtMTAgb3ZlcmZsb3dfdHh0XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibmFtZXVzZXJcIj57eyBpdGVtLnBvbGljeWdyb3VwbmFtZSB9fTwvc3Bhbj4gPGJyIC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtMiB0ZXh0LXJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmlnaHQtaWNvbnNcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZW0gY2xhc3M9XCJmYSBmYS10cmFzaCB0ZXh0LXByaW1hcnlcIiAqc2hvd0ZpZWxkPVwiJ1NFVFRJTkdTX1BHUF9ERUxFVEUnXCJcclxuICAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJkZWxldGUoJGV2ZW50LCBpdGVtLmlkLCBpdGVtKVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvZW0+XHJcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctOCBjb2wtbWQtNiBjb2wtMTIgbXQtMiBncm91cC1yb2xlXCI+XHJcbiAgICAgIDxwLWNhcmQgY2xhc3M9XCJyYmFjLWNhcmRcIiBzdHlsZUNsYXNzPVwidy0xMDAgbWItMlwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdHJpcF9oZWFkIHRvZ2dsZWxlZnRcIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVwb3J0X2hlYWQgZm9udC13ZWlnaHQtYm9sZFwiPlBvbGljeSBHcm91cCBEZXRhaWxzPC9zcGFuPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJwLWZsdWlkIHAtZm9ybWdyaWQgcm93XCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTYgY29sLW1kLTEyIGNvbC0xMiBtYi0yXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJwb2xpY3lHcm91cFwiIGNsYXNzPVwicmVmZXJyYWwtZm9ybS1sYWJlbHNcIj5Qb2xpY3kgR3JvdXAgTmFtZVxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVxdWlyZWRmaWVsZCB0ZXh0LWRhbmdlclwiPio8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxpbnB1dCBpZD1cInBvbGljeUdyb3VwXCIgdHlwZT1cInRleHRcIiBmb3JtQ29udHJvbE5hbWU9XCJwb2xpY3lncm91cG5hbWVcIiBwbGFjZWhvbGRlcj1cIkVudGVyIFBvbGljeSBHcm91cCBOYW1lXCJcclxuICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwicG9saWN5R3JvdXBcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1BHUF9QT0xJQ1lfR1JPVVBfTkFNRVwiIFsobmdNb2RlbCldPVwibW9kZWxQb2xpY3lOYW1lXCJcclxuICAgICAgICAgICAgICAobmdNb2RlbENoYW5nZSk9XCJvbk1vZGVsUG9saWN5KCRldmVudClcIiAoaW5wdXQpPVwib25JbnB1dCgkZXZlbnQsICduYW1lJywgJ1BvbGljeSBHcm91cCBOYW1lJywgdHJ1ZSlcIlxyXG4gICAgICAgICAgICAgIHBJbnB1dFRleHQgLz5cclxuICAgICAgICAgICAgPGRpdiAqbmdJZj1cInZhbGlkYXRpb25FcnJvcnNbJ1BvbGljeSBHcm91cCBOYW1lJ11cIiBjbGFzcz1cInAtZXJyb3IgYmxvY2sgbXQtMVwiPnt7dmFsaWRhdGlvbkVycm9yc1snUG9saWN5XHJcbiAgICAgICAgICAgICAgR3JvdXAgTmFtZSddfX08L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiAqbmdJZj1cIiF2YWxpZGF0aW9uRXJyb3JzWydQb2xpY3kgR3JvdXAgTmFtZSddICYmIGZvcm1WYWxpZGF0ZVsncG9saWN5Z3JvdXBuYW1lJ10uZXJyb3JzICYmIGZvcm1TdWJtaXRcIj5cclxuICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZm9ybVZhbGlkYXRlWydwb2xpY3lncm91cG5hbWUnXS5pbnZhbGlkXCIgY2xhc3M9XCJwLWVycm9yIGJsb2NrIG10LTFcIj5Qb2xpY3kgR3JvdXAgTmFtZSBpc1xyXG4gICAgICAgICAgICAgICAgcmVxdWlyZWRcclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctNiBjb2wtbWQtMTIgY29sLTEyIG1iLTJcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cInBvbGljeURlc2NyaXB0aW9uXCIgY2xhc3M9XCJyZWZlcnJhbC1mb3JtLWxhYmVsc1wiPkRlc2NyaXB0aW9uIDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxpbnB1dCBpZD1cInBvbGljeURlc2NyaXB0aW9uXCIgZmllbGRLZXk9XCJTRVRUSU5HU19QR1BfREVTQ1JJUFRJT05cIiB0eXBlPVwidGV4dFwiIGZvcm1Db250cm9sTmFtZT1cImRlc2NyaXB0aW9uXCJcclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkRlc2NyaXB0aW9uXCIgYXJpYS1kZXNjcmliZWRieT1cInBvbGljeURlc2NyaXB0aW9uXCJcclxuICAgICAgICAgICAgICAoaW5wdXQpPVwib25JbnB1dCgkZXZlbnQsICdkZXNjcmlwdGlvbicsICdEZXNjcmlwdGlvbicsIGZhbHNlKVwiIHBJbnB1dFRleHQgLz5cclxuICAgICAgICAgICAgPGRpdiAqbmdJZj1cInZhbGlkYXRpb25FcnJvcnNbJ0Rlc2NyaXB0aW9uJ11cIiBjbGFzcz1cInAtZXJyb3IgYmxvY2sgbXQtMVwiPnt7dmFsaWRhdGlvbkVycm9yc1snRGVzY3JpcHRpb24nXX19XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm10LTJcIj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwdWxsLXJpZ2h0IG1iLTIgYnRuIGJ0bi1wcmltYXJ5IGJ0bmNvbW1vblwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUEdQX0FERF9QT0xJQ1lfR1JPVVBcIlxyXG4gICAgICAgICAgICAoY2xpY2spPVwiYWRkUG9saWN5R3JvdXAoKVwiPlxyXG4gICAgICAgICAgICB7eyBwb2xpY3lHcm91cElkID8gJ1VwZGF0ZSBQb2xpY3kgR3JvdXAnIDogJ0FkZCBQb2xpY3kgR3JvdXAnIH19XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwdWxsLXJpZ2h0IG1iLTIgbXItMiBidG4gYmctd2hpdGUgdGV4dC1wcmltYXJ5IGJvcmRlciBib3JkZXItcHJpbWFyeSBidG5jYW5jZWxcIlxyXG4gICAgICAgICAgICBmaWVsZEtleT1cIlNFVFRJTkdTX1BHUF9DQU5DRUxcIiAoY2xpY2spPVwiY2FuY2VsKClcIiBbZGlzYWJsZWRdPVwiaXNCdXR0b25EaXNhYmxlZFwiPlxyXG4gICAgICAgICAgICBDbGVhclxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxiciAvPlxyXG4gICAgICA8L3AtY2FyZD5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuPGRpdiBjbGFzcz1cIm1vZGFsXCIgaWQ9XCJEZWxldGV1c2VyXCIgdGFiaW5kZXg9XCItMVwiIHJvbGU9XCJkaWFsb2dcIj5cclxuICA8ZGl2IGNsYXNzPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPlxyXG4gICAgICAgIDxwPnt7IG1vZGFsQ29udGVudCB9fTwvcD5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMlwiPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBidG4gYnRuLXByaW1hcnkgYnRuY29tbW9uIGRlbGV0ZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcclxuICAgICAgICAgICAgKGNsaWNrKT1cImRlbGV0ZVBvbGljeUdyb3VwKClcIiAqbmdJZj1cImRlbGV0ZWFjdGl2ZV9yb2xlXCI+XHJcbiAgICAgICAgICAgIERlbGV0ZVxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHVsbC1yaWdodCBtYi0yIG1yLTIgYnRuIGJnLXdoaXRlIHRleHQtcHJpbWFyeSBidG5jYW5jZWxcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXHJcbiAgICAgICAgICAgICpuZ0lmPVwiZGVsZXRlYWN0aXZlX2J1dHRvbm9rXCI+XHJcbiAgICAgICAgICAgIENhbmNlbFxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHVsbC1yaWdodCBtYi0yIG1yLTIgYnRuIGJnLXdoaXRlIHRleHQtcHJpbWFyeSBidG5jYW5jZWxcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXHJcbiAgICAgICAgICAgICpuZ0lmPVwiIWRlbGV0ZWFjdGl2ZV9idXR0b25va1wiPlxyXG4gICAgICAgICAgICBPS1xyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG4iXX0=